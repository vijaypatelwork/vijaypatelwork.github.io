$(document).ready(function(){function r(){$("#project-preview").addClass("open");$(".masonry-wrapper").animate({opacity:0},300);setTimeout(function(){$("#project-preview").slideDown();$(".masonry-wrapper").slideUp();$("html,body").scrollTo(0,"#filter-works",{gap:{y:-20},animation:{duration:400}});$("#project-slider").flexslider({prevText:'<i class="fa fa-angle-left"></i>',nextText:'<i class="fa fa-angle-right"></i>',animation:"slide",slideshowSpeed:3e3,useCSS:true,controlNav:true,pauseOnAction:false,pauseOnHover:true,smoothHeight:false,start:function(){$(window).trigger("resize");$("#project-preview").animate({opacity:1},300)}})},300)}function i(){$("#project-preview").removeClass("open");$("#project-preview").animate({opacity:0},300);setTimeout(function(){$(".masonry-wrapper").slideDown();$("#project-preview").slideUp();$("#project-slider").flexslider("destroy");$(".masonry-wrapper").animate({opacity:1},300)},300);setTimeout(function(){$("#projects-container").masonry("reload")},500)}function o(){setTimeout(function(){$("body").scrollspy("refresh")},1e3)}function u(){setTimeout(function(){$.waypoints("refresh")},1e3)}$(window).load(function(){$("#page-loader").fadeOut(500,function(){})});$("#home").height($(window).height()+50);$.backstretch("assets/images/header-bg.jpg");$(window).scroll(function(){var e=$(this).scrollTop(),t=$(window).height(),n=1.2-e/(10*t);$(".backstretch img").css({transform:"scale("+n+")","-webkit-transform":"scale("+n+")"});$("#home .container").css({opacity:1.4-e/400});if($(window).scrollTop()>$(window).height()+50){$(".backstretch").hide()}else{$(".backstretch").show()}});var e=$(this).scrollTop(),t=$(window).height(),n=1.2-e/(10*t);$(".backstretch img").css({transform:"scale("+n+")","-webkit-transform":"scale("+n+")"});$("#home .container").css({opacity:1.4-e/400});if($(window).scrollTop()<$(window).height()-50){$("#main-nav").removeClass("scrolled")}else{$("#main-nav").addClass("scrolled")}$(window).scroll(function(){if($(window).scrollTop()<$(window).height()-50){$("#main-nav").removeClass("scrolled")}else{$("#main-nav").addClass("scrolled")}});$("a.scrollto").click(function(e){$("html,body").scrollTo(this.hash,this.hash,{gap:{y:-70}});e.preventDefault();if($(".navbar-collapse").hasClass("in")){$(".navbar-collapse").removeClass("in").addClass("collapse")}});$(".skills-item").each(function(){var e=$(this).find(".percent").data("percent");$(this).data("height",e)});$(".touch .skills-item").each(function(){$(this).css({height:$(this).data("height")+"%"})});$(".touch .skills-bars").css({opacity:1});$(window).load(function(){$("#projects-container").css({visibility:"visible"});$("#projects-container").masonry({itemSelector:".project-item:not(.filtered)",isFitWidth:true,isResizable:true,isAnimated:!Modernizr.csstransitions,gutterWidth:25});o();u()});$("#filter-works a").click(function(e){e.preventDefault();if($("#project-preview").hasClass("open")){i()}$("#filter-works li").removeClass("active");$(this).parent("li").addClass("active");var t=$(this).attr("data-filter");$(".project-item").each(function(){if($(this).is(t)){$(this).removeClass("filtered")}else{$(this).addClass("filtered")}$("#projects-container").masonry("reload")});o();u()});$(".project-item").click(function(e){e.preventDefault();var t=$(this),n=t.find(".project-title").text(),i=t.find(".project-description").html(),s='<ul class="slides">',o=t.find(".project-description");slides=t.find(".project-description").data("images").split(",");for(var u=0;u<slides.length;++u){s=s+"<li><img src="+slides[u]+' alt=""></li>'}s=s+"</ul>";$("#project-title").text(n);$("#project-content").html(i);$("#project-slider").html(s);r()});$(".close-preview").click(function(){i()});$("#skills").waypoint(function(){$(".skills-item").each(function(){$(this).css({height:$(this).data("height")+"%"})});$(".skills-bars").css({opacity:1})},{offset:"40%"});$(".scrollimation").waypoint(function(){$(this).addClass("in")},{offset:"90%"});var s=$(".project-item").width();$(window).resize(function(){$("#home").height($(window).height()+50);if($(".project-item").width()!=s){$("#projects-container").masonry("reload");s=$(".project-item").width()}o();u()})})